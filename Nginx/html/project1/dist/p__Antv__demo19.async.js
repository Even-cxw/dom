(self.webpackChunk=self.webpackChunk||[]).push([[648],{37604:function(t,l,e){"use strict";e.r(l);var n=e(5574),i=e.n(n),o=e(67294),g=e(94393),f=e(72977),c=e(33047),s=e(7561),a=e(10932),b=e(50942),p=e(85893),v={nodes:[{id:"node0",size:100,type:"region-image",label:"\u5409\u661F\u9AD8\u7167",imgOptions:{size:[120,80],img:s}},{id:"node1",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11",imgOptions:{size:[120,80],img:s}},{id:"node2",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C12",imgOptions:{size:[120,80],img:s}}],edges:[{source:"node0",target:"node1",label:"123"},{source:"node1",target:"node2"}]},d={nodes:[{parent:"node0",id:"children2",type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B501",size:100,imgOptions:{size:[120,80],img:s}},{parent:"node0",id:"children3",size:100,type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B502",imgOptions:{size:[120,80],img:s}},{parent:"node0",id:"children21",type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B5011",size:100,imgOptions:{size:[120,80],img:s}},{parent:"node0",id:"children31",size:100,type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B5021",imgOptions:{size:[120,80],img:s}},{parent:"node1",id:"children4",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11-\u718A\u5B69\u5B502",imgOptions:{size:[120,80],img:s}},{parent:"node1",id:"children5",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11-\u718A\u5B69\u5B505",imgOptions:{size:[120,80],img:s}}]};d.nodes.forEach(function(x){return x.visible=!1}),d.edges=S(d.nodes),d.edges.forEach(function(x){return x.visible=!1});function S(x){var z=[];return x.forEach(function(A,C){z.push({id:"edge-".concat(C),source:"".concat(A.parent),target:"".concat(A.id)})}),z}var O={nodes:v.nodes.concat(d.nodes),edges:v.edges.concat(d.edges)},M=function(z){return Math.round(z*100)/100},m=function(){var z=(0,f.Z)(),A=z.width,C=z.height,w=(0,o.useRef)(null),P=(0,o.useRef)(null),T=(0,c.Z)(),R=i()(T,2),B=R[0],D=R[1],N=(0,o.useState)(30),U=i()(N,2),W=U[0],j=U[1];(0,o.useEffect)(function(){if(D.width!==0)if(w.current){var E=w.current;if(!E||E.get("destroyed"))return;console.log("leftStyle",D),console.log("width",A),E.changeSize(D.width,C)}else Z(),K(D.width,C)},[D.width,A]);var Z=function(){var r=new g.ZP.Layout.grid({rows:1,width:A,sortBy:"id"});r.init(v),r.execute()},K=function(r,u){w.current||(F(),w.current=new g.ZP.Graph({container:P.current,width:r,height:u,linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas","drag-node","shortcuts-call"]},defaultNode:{type:"rect",labelCfg:{style:{fill:"#000000A6",fontSize:10}},style:{stroke:"#72CC4A",width:150}},defaultEdge:{style:{stroke:"l(0) 0:rgba(255, 255, 255, 0) 0.5:#7ec2f3 1:rgba(255, 255, 255, 0)",cursor:"pointer"},labelCfg:{autoRotate:!0,style:{fill:"#fff"}}},nodeStateStyles:{hover:{stroke:"red",lineWidth:3}},edgeStateStyles:{hover:{stroke:"blue",lineWidth:5},click:{stroke:"red",lineWidth:5}},fitView:!0,fitViewPadding:100}),w.current.data(O),w.current.render(),G(),$())},F=function(){g.ZP.registerNode("region-image",{options:{style:{},stateStyles:{hover:{},selected:{}}},draw:function(u,h){var y=u.imgOptions;h.addShape("rect",{attrs:{cursor:"pointer",x:-y.size[0]/2,y:-y.size[1]/2,width:y.size[0],height:y.size[1],stroke:"black",opacity:0,fill:"red"},draggable:!0,name:"rect-shape-Even"});var I=h.addShape("image",{attrs:{cursor:"pointer",x:-y.size[0]/2,y:-y.size[1]/2,width:y.size[0],height:y.size[1],img:y.img},draggable:!0,name:"region-image-shape"});return u.label&&h.addShape("text",{attrs:{cursor:"pointer",y:-y.size[1]/2-20,x:0,text:u.label,textAlign:"center",textBaseline:"middle",fontSize:26,fill:"#fff",draggable:!0},name:"region-image-label"}),I},update:void 0,setState:function(u,h,y){console.log("name, value, item =>>>",u,h,y);var I=y.get("group");if(u==="selected"&&h){var L=I.find(function(k){return k.get("name")==="rect-shape-Even"});L&&L.attr("opacity",.5)}else if(u==="selected"&&!h){var _=I.find(function(k){return k.get("name")==="rect-shape-Even"});_&&_.attr("opacity",0)}}},"single-node")},G=function(){var r=w.current;r.on("node:click",function(u){H(r),r.setItemState(u.item,"selected",!0)}),r.on("region-image-label:click",function(u){console.log("111111evt",u);var h=u.item.getID(),y=r.findById(h).getModel(),I=[];d.nodes.forEach(function(_){h===_.parent?(r.showItem(_.id),I.push(_)):r.hideItem(_.id)});var L=new g.ZP.Layout.grid({rows:1,width:1e3,begin:[0,200]});L.init({nodes:I,edges:[]}),L.execute(),I.forEach(function(_){return r.update(_.id,{x:y.x/2+_.x,y:_.y})}),console.log("nodeId",h),O.edges.forEach(function(_){_.source===h&&r.showItem(_.id)})})},H=function(r){var u=r.findAllByState("node","selected");u.forEach(function(h){r.setItemState(h,"selected",!1)})},V=function(r){var u=r.findAllByState("edge","click");u.forEach(function(h){r.setItemState(h,"click",!1)})},$=function(){var r=w.current;r.on("edge:click",function(u){V(r),console.log("evt",u),r.setItemState(u.item,"click",!0)}),r.on("edge:mouseenter",function(u){r.setItemState(u.item,"hover",!0)}),r.on("edge:mouseleave",function(u){r.setItemState(u.item,"hover",!1)})};return(0,p.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex"},children:[(0,p.jsx)("div",{ref:B,style:{backgroundColor:"black",width:"".concat(100-W,"%")},children:(0,p.jsx)("div",{ref:P,children:(0,p.jsxs)("div",{style:{position:"absolute"},children:[(0,p.jsx)(b.rU,{to:"/",children:(0,p.jsx)(a.ZP,{type:"dashed",children:"\u56DE\u5230\u9996\u9875"})}),(0,p.jsx)(a.ZP,{type:"dashed",onClick:function(){j(15)},children:"\u7F29\u653E\u53F3\u4FA7"}),(0,p.jsx)(a.ZP,{type:"dashed",onClick:function(){j(30)},children:"\u6269\u5C55\u53F3\u4FA7"})]})})}),(0,p.jsx)("div",{style:{width:"".concat(W,"%"),height:"100%"},children:"111233311223"})]})};l.default=m},76362:function(t,l,e){"use strict";e.d(l,{S1:function(){return o},ZT:function(){return n},jU:function(){return g},on:function(){return i}});var n=function(){};function i(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];c&&c.addEventListener&&c.addEventListener.apply(c,s)}function o(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];c&&c.removeEventListener&&c.removeEventListener.apply(c,s)}var g=typeof window!="undefined",f=typeof navigator!="undefined"},33047:function(t,l,e){"use strict";e.d(l,{Z:function(){return s}});var n=e(67294),i=e(76362),o=i.jU?n.useLayoutEffect:n.useEffect,g=o,f={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function c(){var a=(0,n.useState)(null),b=a[0],p=a[1],v=(0,n.useState)(f),d=v[0],S=v[1],O=(0,n.useMemo)(function(){return new window.ResizeObserver(function(M){if(M[0]){var m=M[0].contentRect,x=m.x,z=m.y,A=m.width,C=m.height,w=m.top,P=m.left,T=m.bottom,R=m.right;S({x,y:z,width:A,height:C,top:w,left:P,bottom:T,right:R})}})},[]);return g(function(){if(b)return O.observe(b),function(){O.disconnect()}},[b]),[p,d]}var s=i.jU&&typeof window.ResizeObserver!="undefined"?c:function(){return[i.ZT,f]}},72977:function(t,l,e){"use strict";e.d(l,{Z:function(){return p}});var n=e(67294),i=function(v){(0,n.useEffect)(v,[])},o=i,g=function(v){var d=(0,n.useRef)(v);d.current=v,o(function(){return function(){return d.current()}})},f=g,c=function(v){var d=(0,n.useRef)(0),S=(0,n.useState)(v),O=S[0],M=S[1],m=(0,n.useCallback)(function(x){cancelAnimationFrame(d.current),d.current=requestAnimationFrame(function(){M(x)})},[]);return f(function(){cancelAnimationFrame(d.current)}),[O,m]},s=c,a=e(76362),b=function(v,d){v===void 0&&(v=1/0),d===void 0&&(d=1/0);var S=s({width:a.jU?window.innerWidth:v,height:a.jU?window.innerHeight:d}),O=S[0],M=S[1];return(0,n.useEffect)(function(){if(a.jU){var m=function(){M({width:window.innerWidth,height:window.innerHeight})};return(0,a.on)(window,"resize",m),function(){(0,a.S1)(window,"resize",m)}}},[]),O},p=b},7561:function(t,l,e){"use strict";t.exports=e.p+"static/branch_base.7caa187d.png"},37923:function(t){function l(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,o=new Array(n);i<n;i++)o[i]=e[i];return o}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},82187:function(t){function l(e){if(Array.isArray(e))return e}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},73964:function(t){function l(e,n){var i=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var o,g,f,c,s=[],a=!0,b=!1;try{if(f=(i=i.call(e)).next,n===0){if(Object(i)!==i)return;a=!1}else for(;!(a=(o=f.call(i)).done)&&(s.push(o.value),s.length!==n);a=!0);}catch(p){b=!0,g=p}finally{try{if(!a&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(b)throw g}}return s}}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},69094:function(t){function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},5574:function(t,l,e){var n=e(82187),i=e(73964),o=e(96263),g=e(69094);function f(c,s){return n(c)||i(c,s)||o(c,s)||g()}t.exports=f,t.exports.__esModule=!0,t.exports.default=t.exports},96263:function(t,l,e){var n=e(37923);function i(o,g){if(o){if(typeof o=="string")return n(o,g);var f=Object.prototype.toString.call(o).slice(8,-1);if(f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set")return Array.from(o);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return n(o,g)}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}}]);
