"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[590],{80813:function(w,g,n){n.r(g);var u=n(67294),v=n(94393),p=n(72977),c=n(7561),S=n(10932),r=n(50942),a=n(85893),e={nodes:[{id:"node0",size:100,type:"region-image",label:"\u5409\u661F\u9AD8\u7167",imgOptions:{size:[120,80],img:c}},{id:"node1",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11",imgOptions:{size:[120,80],img:c}},{id:"node2",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11",imgOptions:{size:[120,80],img:c}}],edges:[{source:"node0",target:"node1",label:"123"},{source:"node1",target:"node2"}]},_={nodes:[{id:"node0",size:100,type:"region-image",label:"\u8FD4\u749E\u5F52\u771F",imgOptions:{size:[120,80],img:c}},{id:"node1",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C1",imgOptions:{size:[120,80],img:c}}]},z=function(){var o=(0,u.useRef)(null),f=(0,p.Z)(),m=f.width,h=f.height,s=(0,u.useRef)(null);(0,u.useEffect)(function(){O()},[]);var O=function(){s.current||(C(),s.current=new v.ZP.Graph({container:o.current,width:m,height:h,linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas","drag-node"]},defaultNode:{type:"rect",labelCfg:{style:{fill:"#000000A6",fontSize:10}},style:{stroke:"#72CC4A",width:150}},defaultEdge:{style:{stroke:"l(0) 0:rgba(255, 255, 255, 0) 0.5:#7ec2f3 1:rgba(255, 255, 255, 0)",cursor:"pointer"},labelCfg:{autoRotate:!0,style:{fill:"#fff"}}},nodeStateStyles:{hover:{stroke:"red",lineWidth:3}},edgeStateStyles:{hover:{stroke:"blue",lineWidth:5},click:{stroke:"red",lineWidth:5}},fitView:!0,fitViewPadding:100}),s.current.data(e),s.current.render(),P(),R())},C=function(){v.ZP.registerNode("region-image",{options:{style:{},stateStyles:{hover:{},selected:{}}},draw:function(t,E){var l=t.imgOptions,A=E.addShape("image",{attrs:{cursor:"pointer",x:-l.size[0]/2,y:-l.size[1]/2,width:l.size[0],height:l.size[1],img:l.img},name:"region-image-shape"});return t.label&&E.addShape("text",{attrs:{cursor:"pointer",y:-l.size[1]/2-20,x:0,text:t.label,textAlign:"center",textBaseline:"middle",fontSize:26,fill:"#fff"},name:"region-image-label"}),A},setState:function(t,E,l){console.log("name, value, item",t,E,l)}})},P=function(){var i=s.current;i.on("node:click",function(t){console.log("evt",t),i.setItemState(t.item,"hover",!0)})},k=function(i){var t=i.findAllByState("edge","click");t.forEach(function(E){i.setItemState(E,"click",!1)})},R=function(){var i=s.current;i.on("edge:click",function(t){k(i),console.log("evt",t),i.setItemState(t.item,"click",!0)}),i.on("edge:mouseenter",function(t){i.setItemState(t.item,"hover",!0)}),i.on("edge:mouseleave",function(t){i.setItemState(t.item,"hover",!1)})},D=function(){s.current.changeData(_),s.current.refresh()};return(0,a.jsx)("div",{ref:o,style:{width:m,height:h,backgroundColor:"black"},children:(0,a.jsxs)("div",{style:{position:"absolute"},children:[(0,a.jsx)(r.rU,{to:"/",children:(0,a.jsx)(S.ZP,{type:"dashed",children:"\u56DE\u5230\u9996\u9875"})}),(0,a.jsx)(S.ZP,{type:"dashed",onClick:D,children:"\u5207\u6362\u6807\u9898"})]})})};g.default=z},76362:function(w,g,n){n.d(g,{S1:function(){return p},ZT:function(){return u},jU:function(){return c},on:function(){return v}});var u=function(){};function v(r){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];r&&r.addEventListener&&r.addEventListener.apply(r,a)}function p(r){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];r&&r.removeEventListener&&r.removeEventListener.apply(r,a)}var c=typeof window!="undefined",S=typeof navigator!="undefined"},72977:function(w,g,n){n.d(g,{Z:function(){return z}});var u=n(67294),v=function(d){(0,u.useEffect)(d,[])},p=v,c=function(d){var o=(0,u.useRef)(d);o.current=d,p(function(){return function(){return o.current()}})},S=c,r=function(d){var o=(0,u.useRef)(0),f=(0,u.useState)(d),m=f[0],h=f[1],s=(0,u.useCallback)(function(O){cancelAnimationFrame(o.current),o.current=requestAnimationFrame(function(){h(O)})},[]);return S(function(){cancelAnimationFrame(o.current)}),[m,s]},a=r,e=n(76362),_=function(d,o){d===void 0&&(d=1/0),o===void 0&&(o=1/0);var f=a({width:e.jU?window.innerWidth:d,height:e.jU?window.innerHeight:o}),m=f[0],h=f[1];return(0,u.useEffect)(function(){if(e.jU){var s=function(){h({width:window.innerWidth,height:window.innerHeight})};return(0,e.on)(window,"resize",s),function(){(0,e.S1)(window,"resize",s)}}},[]),m},z=_},7561:function(w,g,n){w.exports=n.p+"static/branch_base.7caa187d.png"}}]);
