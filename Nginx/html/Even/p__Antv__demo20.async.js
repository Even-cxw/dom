(self.webpackChunk=self.webpackChunk||[]).push([[116],{73579:function(t,l,e){"use strict";e.r(l);var r=e(5574),i=e.n(r),o=e(67294),d=e(94393),f=e(72977),c=e(33047),s=e(7561),a=e(10932),z=e(50942),p=e(85893),y=function(b,A){for(var I=[],E=0;E<b.length;E+=10)I.push(b.slice(E,E+10));return I},m={nodes:[{id:"node0",size:100,type:"region-image",label:"WGQ040732-C3850-168.37.0.1-KHJR.htscit.com",imgOptions:{size:[120,80],img:s}},{id:"node1",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11",imgOptions:{size:[120,80],img:s}},{id:"node2",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C12",imgOptions:{size:[120,80],img:s}}],edges:[{source:"node0",target:"node1",label:"123"},{source:"node1",target:"node2"}]},_={nodes:[{parent:"node0",id:"children2",type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B501",size:100,imgOptions:{size:[120,80],img:s}},{parent:"node0",id:"children3",size:100,type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B502",imgOptions:{size:[120,80],img:s}},{parent:"node0",id:"children21",type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B5011",size:100,imgOptions:{size:[120,80],img:s}},{parent:"node0",id:"children31",size:100,type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B5021",imgOptions:{size:[120,80],img:s}},{parent:"node1",id:"children4",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11-\u718A\u5B69\u5B502",imgOptions:{size:[120,80],img:s}},{parent:"node1",id:"children5",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11-\u718A\u5B69\u5B505",imgOptions:{size:[120,80],img:s}}]};_.nodes.forEach(function(O){return O.visible=!1}),_.edges=L(_.nodes),_.edges.forEach(function(O){return O.visible=!1});function L(O){var b=[];return O.forEach(function(A,I){b.push({id:"edge-".concat(I),source:"".concat(A.parent),target:"".concat(A.id)})}),b}var M={nodes:m.nodes.concat(_.nodes),edges:m.edges.concat(_.edges)},x=function(b){return Math.round(b*100)/100},P=function(){var b=(0,f.Z)(),A=b.width,I=b.height,E=(0,o.useRef)(null),R=(0,o.useRef)(null),k=(0,c.Z)(),W=i()(k,2),F=W[0],D=W[1],G=(0,o.useState)(30),j=i()(G,2),B=j[0],N=j[1];(0,o.useEffect)(function(){if(D.width!==0)if(E.current){var w=E.current;if(!w||w.get("destroyed"))return;console.log("leftStyle",D),console.log("width",A),w.changeSize(D.width,I)}else H(),V(D.width,I)},[D.width,A]);var H=function(){var n=new d.ZP.Layout.grid({rows:1,width:A,sortBy:"id"});n.init(m),n.execute()},V=function(n,u){if(!E.current){J();var g=new d.ZP.Grid({cell:50,line:{fill:"red",stroke:"red",lineWidth:1}}),h=new d.ZP.Tooltip({offsetX:10,offsetY:10,itemTypes:["edge"],getContent:function(S){var v=document.createElement("div");return v.style.width="fit-content",v.innerHTML=`
            <h4>Custom Content</h4>
            <ul>
              <li>Type: `.concat(S.item.getType(),`</li>
            </ul>
            <ul>
              <li>Label: `).concat(S.item.getModel().label||S.item.getModel().id,`</li>
            </ul>`),v}});E.current=new d.ZP.Graph({container:R.current,width:n,height:u,linkCenter:!0,plugins:[h,g],modes:{default:["drag-canvas","zoom-canvas","drag-node","shortcuts-call"]},defaultNode:{type:"rect",labelCfg:{style:{fill:"#000000A6",fontSize:10}},style:{stroke:"#72CC4A",width:150}},defaultEdge:{style:{stroke:"l(0) 0:rgba(255, 255, 255, 0) 0.5:#7ec2f3 1:rgba(255, 255, 255, 0)",cursor:"pointer"},labelCfg:{autoRotate:!0,style:{fill:"#fff"}}},nodeStateStyles:{hover:{stroke:"red",lineWidth:3}},edgeStateStyles:{hover:{stroke:"blue",lineWidth:5},click:{stroke:"red",lineWidth:5}},fitView:!0,fitViewPadding:100}),E.current.data(M),E.current.render(),Q(),X()}},J=function(){d.ZP.registerNode("region-image",{options:{style:{},stateStyles:{hover:{},selected:{}}},draw:function(u,g){var h=u.imgOptions;g.addShape("rect",{attrs:{cursor:"pointer",x:-h.size[0]/2,y:-h.size[1]/2,width:h.size[0],height:h.size[1],stroke:"black",opacity:0,fill:"red"},draggable:!0,name:"rect-shape-Even"});var C=g.addShape("image",{attrs:{cursor:"pointer",x:-h.size[0]/2,y:-h.size[1]/2,width:h.size[0],height:h.size[1],img:h.img},draggable:!0,name:"region-image-shape"});if(u.label){var S="(00025268)",v="(00025271)",T=y(u.label),U=h.size[1]/2+20;T.forEach(function(Y){g.addShape("text",{attrs:{cursor:"pointer",y:U,x:0,text:Y,textAlign:"center",textBaseline:"middle",fontSize:12,fill:"#fff",draggable:!0},name:"region-image-label"}),U+=13}),g.addShape("text",{attrs:{cursor:"pointer",y:U,x:0,text:S,textAlign:"center",textBaseline:"middle",fontSize:12,fill:"#fff",draggable:!0},name:"region-image-label"})}return C},update:void 0,setState:function(u,g,h){console.log("name, value, item =>>>",u,g,h);var C=h.get("group");if(u==="selected"&&g){var S=C.find(function(T){return T.get("name")==="rect-shape-Even"});S&&S.attr("opacity",.5)}else if(u==="selected"&&!g){var v=C.find(function(T){return T.get("name")==="rect-shape-Even"});v&&v.attr("opacity",0)}}},"single-node")},Q=function(){var n=E.current;n.on("node:click",function(u){Z(n),n.setItemState(u.item,"selected",!0)}),n.on("region-image-label:click",function(u){console.log("111111evt",u);var g=u.item.getID(),h=n.findById(g).getModel(),C=[];_.nodes.forEach(function(v){g===v.parent?(n.showItem(v.id),C.push(v)):n.hideItem(v.id)});var S=new d.ZP.Layout.grid({rows:1,width:1e3,begin:[0,200]});S.init({nodes:C,edges:[]}),S.execute(),C.forEach(function(v){return n.update(v.id,{x:h.x/2+v.x,y:v.y})}),console.log("nodeId",g),M.edges.forEach(function(v){v.source===g&&n.showItem(v.id)})})},Z=function(n){var u=n.findAllByState("node","selected");u.forEach(function(g){n.setItemState(g,"selected",!1)})},K=function(n){var u=n.findAllByState("edge","click");u.forEach(function(g){n.setItemState(g,"click",!1)})},X=function(){var n=E.current;n.on("edge:click",function(u){K(n),console.log("evt",u),n.setItemState(u.item,"click",!0)}),n.on("edge:mouseenter",function(u){n.setItemState(u.item,"hover",!0)}),n.on("edge:mouseleave",function(u){n.setItemState(u.item,"hover",!1)}),n.on("canvas:click",function(u){Z(n),K(n)})};return(0,p.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex"},children:[(0,p.jsx)("div",{ref:F,style:{width:"".concat(100-B,"%")},children:(0,p.jsx)("div",{ref:R,children:(0,p.jsxs)("div",{style:{position:"absolute"},children:[(0,p.jsx)(z.rU,{to:"/",children:(0,p.jsx)(a.ZP,{type:"dashed",children:"\u56DE\u5230\u9996\u9875"})}),(0,p.jsx)(a.ZP,{type:"dashed",onClick:function(){N(15)},children:"\u7F29\u653E\u53F3\u4FA7"}),(0,p.jsx)(a.ZP,{type:"dashed",onClick:function(){N(30)},children:"\u6269\u5C55\u53F3\u4FA7"})]})})}),(0,p.jsx)("div",{style:{width:"".concat(B,"%"),height:"100%"},children:"111233311223"})]})};l.default=P},76362:function(t,l,e){"use strict";e.d(l,{S1:function(){return o},ZT:function(){return r},jU:function(){return d},on:function(){return i}});var r=function(){};function i(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];c&&c.addEventListener&&c.addEventListener.apply(c,s)}function o(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];c&&c.removeEventListener&&c.removeEventListener.apply(c,s)}var d=typeof window!="undefined",f=typeof navigator!="undefined"},33047:function(t,l,e){"use strict";e.d(l,{Z:function(){return s}});var r=e(67294),i=e(76362),o=i.jU?r.useLayoutEffect:r.useEffect,d=o,f={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function c(){var a=(0,r.useState)(null),z=a[0],p=a[1],y=(0,r.useState)(f),m=y[0],_=y[1],L=(0,r.useMemo)(function(){return new window.ResizeObserver(function(M){if(M[0]){var x=M[0].contentRect,P=x.x,O=x.y,b=x.width,A=x.height,I=x.top,E=x.left,R=x.bottom,k=x.right;_({x:P,y:O,width:b,height:A,top:I,left:E,bottom:R,right:k})}})},[]);return d(function(){if(z)return L.observe(z),function(){L.disconnect()}},[z]),[p,m]}var s=i.jU&&typeof window.ResizeObserver!="undefined"?c:function(){return[i.ZT,f]}},72977:function(t,l,e){"use strict";e.d(l,{Z:function(){return p}});var r=e(67294),i=function(y){(0,r.useEffect)(y,[])},o=i,d=function(y){var m=(0,r.useRef)(y);m.current=y,o(function(){return function(){return m.current()}})},f=d,c=function(y){var m=(0,r.useRef)(0),_=(0,r.useState)(y),L=_[0],M=_[1],x=(0,r.useCallback)(function(P){cancelAnimationFrame(m.current),m.current=requestAnimationFrame(function(){M(P)})},[]);return f(function(){cancelAnimationFrame(m.current)}),[L,x]},s=c,a=e(76362),z=function(y,m){y===void 0&&(y=1/0),m===void 0&&(m=1/0);var _=s({width:a.jU?window.innerWidth:y,height:a.jU?window.innerHeight:m}),L=_[0],M=_[1];return(0,r.useEffect)(function(){if(a.jU){var x=function(){M({width:window.innerWidth,height:window.innerHeight})};return(0,a.on)(window,"resize",x),function(){(0,a.S1)(window,"resize",x)}}},[]),L},p=z},7561:function(t,l,e){"use strict";t.exports=e.p+"static/branch_base.7caa187d.png"},37923:function(t){function l(e,r){(r==null||r>e.length)&&(r=e.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=e[i];return o}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},82187:function(t){function l(e){if(Array.isArray(e))return e}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},73964:function(t){function l(e,r){var i=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var o,d,f,c,s=[],a=!0,z=!1;try{if(f=(i=i.call(e)).next,r===0){if(Object(i)!==i)return;a=!1}else for(;!(a=(o=f.call(i)).done)&&(s.push(o.value),s.length!==r);a=!0);}catch(p){z=!0,d=p}finally{try{if(!a&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(z)throw d}}return s}}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},69094:function(t){function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},5574:function(t,l,e){var r=e(82187),i=e(73964),o=e(96263),d=e(69094);function f(c,s){return r(c)||i(c,s)||o(c,s)||d()}t.exports=f,t.exports.__esModule=!0,t.exports.default=t.exports},96263:function(t,l,e){var r=e(37923);function i(o,d){if(o){if(typeof o=="string")return r(o,d);var f=Object.prototype.toString.call(o).slice(8,-1);if(f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set")return Array.from(o);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return r(o,d)}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}}]);
