(self.webpackChunk=self.webpackChunk||[]).push([[322],{12766:function(t,l,e){"use strict";e.r(l);var n=e(5574),i=e.n(n),o=e(67294),d=e(94393),f=e(72977),c=e(33047),s=e(7561),a=e(10932),S=e(50942),h=e(85893),m=function(x,M){for(var A=[],g=0;g<x.length;g+=10)A.push(x.slice(g,g+10));return A},v={nodes:[{id:"node0",size:100,type:"region-image",label:"WGQ040732-C3850-168.37.0.1-KHJR.htscit.com",imgOptions:{size:[120,80],img:s}},{id:"node1",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11",imgOptions:{size:[120,80],img:s}},{id:"node2",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C12",imgOptions:{size:[120,80],img:s}}],edges:[{source:"node0",target:"node1",label:"123"},{source:"node1",target:"node2"}]},E={nodes:[{parent:"node0",id:"children2",type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B501",size:100,imgOptions:{size:[120,80],img:s}},{parent:"node0",id:"children3",size:100,type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B502",imgOptions:{size:[120,80],img:s}},{parent:"node0",id:"children21",type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B5011",size:100,imgOptions:{size:[120,80],img:s}},{parent:"node0",id:"children31",size:100,type:"region-image",label:"\u5409\u661F\u9AD8\u7167-\u718A\u5B69\u5B5021",imgOptions:{size:[120,80],img:s}},{parent:"node1",id:"children4",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11-\u718A\u5B69\u5B502",imgOptions:{size:[120,80],img:s}},{parent:"node1",id:"children5",size:100,type:"region-image",label:"\u6C89\u9C7C\u843D\u96C11-\u718A\u5B69\u5B505",imgOptions:{size:[120,80],img:s}}]};E.nodes.forEach(function(O){return O.visible=!0}),E.edges=L(E.nodes),E.edges.forEach(function(O){return O.visible=!0});function L(O){var x=[];return O.forEach(function(M,A){x.push({id:"edge-".concat(A),source:"".concat(M.parent),target:"".concat(M.id)})}),x}var z={nodes:v.nodes,edges:v.edges},_=function(x){return Math.round(x*100)/100},P=function(){var x=(0,f.Z)(),M=x.width,A=x.height,g=(0,o.useRef)(null),R=(0,o.useRef)(null),k=(0,c.Z)(),W=i()(k,2),F=W[0],T=W[1],G=(0,o.useState)(30),j=i()(G,2),B=j[0],N=j[1];(0,o.useEffect)(function(){if(T.width!==0)if(g.current){var b=g.current;if(!b||b.get("destroyed"))return;console.log("leftStyle",T),console.log("width",M),b.changeSize(T.width,A)}else H(),V(T.width,A)},[T.width,M]);var H=function(){var r=new d.ZP.Layout.grid({rows:1,width:M,sortBy:"id"});r.init(v),r.execute()},V=function(r,u){if(!g.current){J();var p=new d.ZP.Grid({cell:50,line:{fill:"red",stroke:"red",lineWidth:1}}),y=new d.ZP.Tooltip({offsetX:10,offsetY:10,itemTypes:["edge"],getContent:function(w){var D=document.createElement("div");return D.style.width="fit-content",D.innerHTML=`
            <h4>Custom Content</h4>
            <ul>
              <li>Type: `.concat(w.item.getType(),`</li>
            </ul>
            <ul>
              <li>Label: `).concat(w.item.getModel().label||w.item.getModel().id,`</li>
            </ul>`),D}});g.current=new d.ZP.Graph({container:R.current,width:r,height:u,linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas","drag-node","shortcuts-call"]},defaultNode:{type:"rect",labelCfg:{style:{fill:"#000000A6",fontSize:10}},style:{stroke:"#72CC4A",width:150}},defaultEdge:{style:{stroke:"l(0) 0:rgba(255, 255, 255, 0) 0.5:#7ec2f3 1:rgba(255, 255, 255, 0)",cursor:"pointer"},labelCfg:{autoRotate:!0,style:{fill:"#fff"}}},nodeStateStyles:{hover:{stroke:"red",lineWidth:3}},edgeStateStyles:{hover:{stroke:"blue",lineWidth:5},click:{stroke:"red",lineWidth:5}},fitView:!0,fitViewPadding:100}),g.current.data(z),g.current.render(),Q(),X()}},J=function(){d.ZP.registerNode("region-image",{options:{style:{},stateStyles:{hover:{},selected:{}}},draw:function(u,p){var y=u.imgOptions;p.addShape("rect",{attrs:{cursor:"pointer",x:-y.size[0]/2,y:-y.size[1]/2,width:y.size[0],height:y.size[1],stroke:"black",opacity:0,fill:"red"},draggable:!0,name:"rect-shape-Even"});var C=p.addShape("image",{attrs:{cursor:"pointer",x:-y.size[0]/2,y:-y.size[1]/2,width:y.size[0],height:y.size[1],img:y.img},draggable:!0,name:"region-image-shape"});if(u.label){var w="(00025268)",D="(00025271)",I=m(u.label),U=y.size[1]/2+20;I.forEach(function(Y){p.addShape("text",{attrs:{cursor:"pointer",y:U,x:0,text:Y,textAlign:"center",textBaseline:"middle",fontSize:12,fill:"#fff",draggable:!0},name:"region-image-label"}),U+=13}),p.addShape("text",{attrs:{cursor:"pointer",y:U,x:0,text:w,textAlign:"center",textBaseline:"middle",fontSize:12,fill:"#fff",draggable:!0},name:"region-image-label"})}return C},update:void 0,setState:function(u,p,y){console.log("name, value, item =>>>",u,p,y);var C=y.get("group");if(u==="selected"&&p){var w=C.find(function(I){return I.get("name")==="rect-shape-Even"});w&&w.attr("opacity",.5)}else if(u==="selected"&&!p){var D=C.find(function(I){return I.get("name")==="rect-shape-Even"});D&&D.attr("opacity",0)}}},"single-node")},Q=function(){var r=g.current;r.on("node:click",function(u){Z(r),r.setItemState(u.item,"selected",!0)}),r.on("region-image-label:click",function(u){console.log("111111evt",u);var p=u.item.getID(),y=r.findById(p).getModel(),C=E.nodes,w=new d.ZP.Layout.grid({rows:1,width:1e3,begin:[0,200]});w.init({nodes:C,edges:[]}),w.execute();var D={nodes:z.nodes.concat(C),edges:z.edges};g.current.changeData(D),g.current.refresh(),C.forEach(function(I){return r.update(I.id,{x:I.x,y:I.y})})})},Z=function(r){var u=r.findAllByState("node","selected");u.forEach(function(p){r.setItemState(p,"selected",!1)})},K=function(r){var u=r.findAllByState("edge","click");u.forEach(function(p){r.setItemState(p,"click",!1)})},X=function(){var r=g.current;r.on("edge:click",function(u){K(r),console.log("evt",u),r.setItemState(u.item,"click",!0)}),r.on("edge:mouseenter",function(u){r.setItemState(u.item,"hover",!0)}),r.on("edge:mouseleave",function(u){r.setItemState(u.item,"hover",!1)}),r.on("canvas:click",function(u){Z(r),K(r)})};return(0,h.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex"},children:[(0,h.jsx)("div",{ref:F,style:{background:"black",width:"".concat(100-B,"%")},children:(0,h.jsx)("div",{ref:R,children:(0,h.jsxs)("div",{style:{position:"absolute"},children:[(0,h.jsx)(S.rU,{to:"/",children:(0,h.jsx)(a.ZP,{type:"dashed",children:"\u56DE\u5230\u9996\u9875"})}),(0,h.jsx)(a.ZP,{type:"dashed",onClick:function(){N(15)},children:"\u7F29\u653E\u53F3\u4FA7"}),(0,h.jsx)(a.ZP,{type:"dashed",onClick:function(){N(30)},children:"\u6269\u5C55\u53F3\u4FA7"})]})})}),(0,h.jsx)("div",{style:{width:"".concat(B,"%"),height:"100%"},children:"111233311223"})]})};l.default=P},76362:function(t,l,e){"use strict";e.d(l,{S1:function(){return o},ZT:function(){return n},jU:function(){return d},on:function(){return i}});var n=function(){};function i(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];c&&c.addEventListener&&c.addEventListener.apply(c,s)}function o(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];c&&c.removeEventListener&&c.removeEventListener.apply(c,s)}var d=typeof window!="undefined",f=typeof navigator!="undefined"},33047:function(t,l,e){"use strict";e.d(l,{Z:function(){return s}});var n=e(67294),i=e(76362),o=i.jU?n.useLayoutEffect:n.useEffect,d=o,f={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function c(){var a=(0,n.useState)(null),S=a[0],h=a[1],m=(0,n.useState)(f),v=m[0],E=m[1],L=(0,n.useMemo)(function(){return new window.ResizeObserver(function(z){if(z[0]){var _=z[0].contentRect,P=_.x,O=_.y,x=_.width,M=_.height,A=_.top,g=_.left,R=_.bottom,k=_.right;E({x:P,y:O,width:x,height:M,top:A,left:g,bottom:R,right:k})}})},[]);return d(function(){if(S)return L.observe(S),function(){L.disconnect()}},[S]),[h,v]}var s=i.jU&&typeof window.ResizeObserver!="undefined"?c:function(){return[i.ZT,f]}},72977:function(t,l,e){"use strict";e.d(l,{Z:function(){return h}});var n=e(67294),i=function(m){(0,n.useEffect)(m,[])},o=i,d=function(m){var v=(0,n.useRef)(m);v.current=m,o(function(){return function(){return v.current()}})},f=d,c=function(m){var v=(0,n.useRef)(0),E=(0,n.useState)(m),L=E[0],z=E[1],_=(0,n.useCallback)(function(P){cancelAnimationFrame(v.current),v.current=requestAnimationFrame(function(){z(P)})},[]);return f(function(){cancelAnimationFrame(v.current)}),[L,_]},s=c,a=e(76362),S=function(m,v){m===void 0&&(m=1/0),v===void 0&&(v=1/0);var E=s({width:a.jU?window.innerWidth:m,height:a.jU?window.innerHeight:v}),L=E[0],z=E[1];return(0,n.useEffect)(function(){if(a.jU){var _=function(){z({width:window.innerWidth,height:window.innerHeight})};return(0,a.on)(window,"resize",_),function(){(0,a.S1)(window,"resize",_)}}},[]),L},h=S},7561:function(t,l,e){"use strict";t.exports=e.p+"static/branch_base.7caa187d.png"},37923:function(t){function l(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,o=new Array(n);i<n;i++)o[i]=e[i];return o}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},82187:function(t){function l(e){if(Array.isArray(e))return e}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},73964:function(t){function l(e,n){var i=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var o,d,f,c,s=[],a=!0,S=!1;try{if(f=(i=i.call(e)).next,n===0){if(Object(i)!==i)return;a=!1}else for(;!(a=(o=f.call(i)).done)&&(s.push(o.value),s.length!==n);a=!0);}catch(h){S=!0,d=h}finally{try{if(!a&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(S)throw d}}return s}}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},69094:function(t){function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},5574:function(t,l,e){var n=e(82187),i=e(73964),o=e(96263),d=e(69094);function f(c,s){return n(c)||i(c,s)||o(c,s)||d()}t.exports=f,t.exports.__esModule=!0,t.exports.default=t.exports},96263:function(t,l,e){var n=e(37923);function i(o,d){if(o){if(typeof o=="string")return n(o,d);var f=Object.prototype.toString.call(o).slice(8,-1);if(f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set")return Array.from(o);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return n(o,d)}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}}]);
