"use strict";var _createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var CanvasAdaptation=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"initCanvas",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.el,n=e.designWidth,n=void 0===n?800:n,e=e.designHeight,e=void 0===e?400:e;if(this.el=void 0===i?null:i,this.designWidth=n,this.designHeight=e,!n)throw new Error("请传入宽高!");this.insertDom(),this.resizeCanvas(),window.addEventListener("resize",function(){t.getWrapperBound(),t.resizeCanvas()})}},{key:"insertDom",value:function(){this.canvas=document.createElement("canvas");var t=document.createElement("div");t.style.cssText="height:100%;width:100%;display:flex;justify-content:center;align-items:center;",t.appendChild(this.canvas),(this.el||document.body).appendChild(t),this.getWrapperBound()}},{key:"getWrapperBound",value:function(){console.log(window.getComputedStyle(this.el).height.replace("px","")),this.el?(this.wWidth=Number(window.getComputedStyle(this.el).width.replace("px","")),this.wHeight=Number(window.getComputedStyle(this.el).height.replace("px","")),console.log(this.el.style),console.log(this.wWidth,this.wHeight)):(this.wWidth=document.body.clientWidth||document.documentElement.clientWidth,this.wHeight=document.body.clientHeight||document.documentElement.clientHeight)}},{key:"resizeCanvas",value:function(){var t=this.canvas.getContext("2d"),e=this.designWidth/this.designHeight;0<this.wWidth-this.wHeight?(this.cheight=this.wHeight,this.cwidth=this.cheight*e):(this.cwidth=this.wWidth,this.cheight=this.cwidth/e),this.canvas.width=this.cwidth,this.canvas.height=this.cheight,t.fillStyle="black",t.fillRect(0,0,this.cwidth,this.cheight),t.fillStyle="red",console.log("calcX(50)",this.calcX(50)),console.log("calcY(50)",this.calcY(50)),t.fillRect(this.calcX(50),this.calcY(50),this.calcX(50),this.calcY(50))}},{key:"calcX",value:function(t){return t/this.designWidth*this.cwidth}},{key:"calcY",value:function(t){return t/this.designHeight*this.cheight}}]),t}(),Turntable=function(){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.initCanvas({designWidth:100,designHeight:200,el:document.getElementById("test")}),t}return _inherits(e,CanvasAdaptation),e}();new Turntable;